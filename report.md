# Описание структуры проекта
<pre>
├── apsm
│   ├── app
│   │   ├── data_preprocessing.py  
│   │   ├── Dockerfile 
│   │   ├── endpoints  
│   │   │   ├── __init__.py  
│   │   │   └── model.py  
│   │   ├── main.py  
│   │   └── schemas.py  
│   ├── Dockerfile
│   ├── streamlit_app #streamlit-приложение  
│   │   ├── components.py 
│   │   ├── Dockerfile
│   │   └── main.py
│   └── utils
│       ├── helpers.py 
│       ├── __init__.py 
│       ├── linters #  Скрипты для запуска линтеров  
│       │   ├── run_linters_docker.sh  
│       │   ├── run_linters_python.sh  
│       │   └── run_linters_sh.sh  
│       └── logger.py
├── docker-compose.yml
├── info  # Директория с документацией по проекту
│   ├── checkpoints.md  
│   ├── dataset.md  
│   └── gifs
│       └── instruction.gif
├── LICENSE
├── models  # Модели машинного обучения
│   ├── pretrained
│   │   └── classic
│   │       ├── currency
│   │       │   └── cb.pkl
│   │       └── stock
│   │           └── cb.pkl
│   └── transformers
│       ├── currency.pkl
│       └── stock.pkl
├── notebooks
│   ├── EDA
│   │   ├── EDA.ipynb  
│   │   └── EDA_ts.ipynb  
│   ├── modeling
│   │   ├── non_linear_models_analysis.ipynb  
│   │   ├── sentiment_analysis.ipynb  
│   │   └── ts_baseline.ipynb  
│   └── parsing  # Ноутбуки для парсинга новостей и котировок из разных источников
│       ├── currency.ipynb  
│       ├── news_alphavantage.ipynb  
│       └── news_lenta.ipynb  
├── README.md  # Документация проекта, описание его целей, установочных инструкций и основных функций.
├── report.md  # Техническая документация проекта, с описанием ручек и функционала streamlit-приложения
└── requirements.txt 
</pre>

# Описание функционала API
1. /fit — Обучение модели
Метод: POST
Описание: Обучает модель на основе предоставленных данных и параметров.
Параметры:
request (тип: FitRequest): запрос, включающий данные и конфигурацию модели (тип модели, гиперпараметры).
Ответ: В случае успешного обучения возвращается сообщение об успешном обучении модели.
Алгоритмы:
Если тип модели auto_arima, используется библиотека pmdarima для автоматического выбора гиперпараметров ARIMA.
Если тип модели holt_winters, используется метод экспоненциального сглаживания (ExponentialSmoothing из statsmodels).
Модели сохраняются в соответствующие директории (models/auto_arima или models/holt_winters).
2. /predict — Предсказание на основе активной модели
Метод: POST
Описание: Выполняет предсказания на основе активной модели.
Параметры:
request (тип: PredictRequest): запрос, содержащий количество периодов для прогноза (n_periods).
Ответ: Возвращает список значений прогнозов, сделанных моделью.
Примечание: Если активная модель не загружена, возвращается ошибка.
3. /list — Получение списка сохраненных моделей
Метод: GET
Описание: Возвращает список всех сохраненных моделей, включая их идентификаторы и типы.
Ответ: Список моделей с их идентификаторами и типами. Модели классифицируются по типам: auto_arima или holt_winters.
4. /set — Установка активной модели
Метод: POST
Описание: Устанавливает модель как активную для дальнейшего использования.
Параметры:
request (тип: SetRequest): запрос, содержащий идентификатор модели, которую необходимо активировать.
Ответ: Сообщение об успешной активации модели.
Примечание: Если модель с данным идентификатором не найдена, возвращается ошибка.
5. /remove_all — Удаление всех сохраненных моделей
Метод: GET
Описание: Удаляет все сохраненные модели и очищает активную модель.
Ответ: Сообщение об успешном удалении всех моделей.
Примечание: Все файлы моделей, хранящиеся в папках models/auto_arima и models/holt_winters, удаляются.
6. Логирование  
Все операции логируются в файл для отслеживания ошибок и успешных действий.

# Функционал streamlit-приложения:
1. Загрузка и очистка данных — позволяет загружать файлы с котировками валют или акций, очищая их для анализа.
2. Выбор тикера — позволяет выбрать тикер для анализа из загруженных данных.
3. Обучение модели — обучает модель прогнозирования (например, Holt-Winters или Auto-ARIMA) с указанными параметрами.
4. Прогнозирование — использует обученную модель для прогнозирования будущих значений на выбранный период.
5. Управление моделями — позволяет удалять все модели, а также устанавливать одну активной для дальнейшего использования.
6. Аналитика — генерирует и отображает графики аналитики на основе загруженных данных.
